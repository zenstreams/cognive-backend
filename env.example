APP_NAME=Cognive Control Plane API
APP_ENV=development

# Database
POSTGRES_USER=cognive
POSTGRES_PASSWORD=aadmasod1rwsponr
POSTGRES_DB=cognive
DATABASE_HOST=postgres
DATABASE_PORT=5432
# Replication password for read replicas
POSTGRES_REPL_PASSWORD=aadmasod1rwsponr
DATABASE_URL=postgresql+psycopg2://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${POSTGRES_DB}
# Optional: explicit async SQLAlchemy URL (recommended for clarity)
# Must use asyncpg driver
DATABASE_URL_ASYNC=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${POSTGRES_DB}
# Optional: read replica URLs for read-heavy queries (comma-separated).
# In docker-compose, replicas are reachable by service name on port 5432.
DATABASE_READ_URLS=postgresql+psycopg2://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres_replica_1:5432/${POSTGRES_DB},postgresql+psycopg2://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres_replica_2:5432/${POSTGRES_DB}
DATABASE_READ_URLS_ASYNC=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres_replica_1:5432/${POSTGRES_DB},postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres_replica_2:5432/${POSTGRES_DB}

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}
# Redis connection pool settings (optional)
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5.0
REDIS_SOCKET_CONNECT_TIMEOUT=5.0
# Cache TTL settings (in seconds, optional)
CACHE_TTL_LLM_PRICING=3600
CACHE_TTL_AGENT_CONFIG=300
CACHE_TTL_BUDGET=60

# RabbitMQ
RABBITMQ_USER=cognive
RABBITMQ_PASSWORD=aadmasod1rwsponr
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@${RABBITMQ_HOST}:${RABBITMQ_PORT}//

# Object Storage (S3-Compatible: MinIO, AWS S3, DigitalOcean Spaces, etc.)
# 
# Option 1: MinIO (Self-hosted, Free)
# For docker-compose: use http://minio:9000 (internal), http://localhost:9002 (external)
# IMPORTANT: MINIO_ROOT_USER and MINIO_ROOT_PASSWORD are used by docker-compose to initialize MinIO
# They MUST match STORAGE_ACCESS_KEY and STORAGE_SECRET_KEY for the app to connect
MINIO_ROOT_USER=cognive
MINIO_ROOT_PASSWORD=aadmasod1rwsponr

STORAGE_ENDPOINT=http://minio:9000
STORAGE_ACCESS_KEY=cognive
STORAGE_SECRET_KEY=aadmasod1rwsponr
STORAGE_REGION=us-east-1
STORAGE_SECURE=false
# Optional server-side encryption for uploads (leave unset for MinIO dev unless youâ€™ve configured MinIO KMS/KES).
# Examples:
# - AWS SSE-S3: STORAGE_SSE=AES256
# - AWS SSE-KMS: STORAGE_SSE=aws:kms and set STORAGE_SSE_KMS_KEY_ID
# STORAGE_SSE=AES256
# STORAGE_SSE_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/...
#
# Option 2: AWS S3 (Cloud-hosted)
# STORAGE_ENDPOINT=https://s3.us-east-1.amazonaws.com
# STORAGE_ACCESS_KEY=<your-aws-access-key-id>
# STORAGE_SECRET_KEY=<your-aws-secret-access-key>
# STORAGE_REGION=us-east-1
# STORAGE_SECURE=true
# # Optional encryption for AWS:
# # STORAGE_SSE=AES256
# # STORAGE_SSE=aws:kms
# # STORAGE_SSE_KMS_KEY_ID=arn:aws:kms:...
#
# Option 3: DigitalOcean Spaces
# STORAGE_ENDPOINT=https://nyc3.digitaloceanspaces.com
# STORAGE_ACCESS_KEY=<your-spaces-key>
# STORAGE_SECRET_KEY=<your-spaces-secret>
# STORAGE_REGION=us-east-1
# STORAGE_SECURE=true

# Buckets (auto-created on startup with lifecycle policies):
# - audit-logs-archive (90-day retention)
# - execution-replay-data (30-day retention)
# - report-exports (365-day retention)
# - agent-artifacts (180-day retention)

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Application version (used in error tracking and metrics)
APP_VERSION=0.1.0

# Enable Prometheus metrics endpoint at /metrics
ENABLE_METRICS=true

# GlitchTip/Sentry Error Tracking (Optional)
# GlitchTip is a self-hosted, free alternative to Sentry
# Get DSN from your GlitchTip project settings
# GLITCHTIP_DSN=http://your-dsn@glitchtip:8000/1
# Or use Sentry cloud:
# SENTRY_DSN=https://xxx@sentry.io/xxx

# =============================================================================
# Monitoring Stack Ports (for docker-compose.monitoring.yml)
# =============================================================================
# These are the default ports for the monitoring stack:
# - Prometheus: 9090
# - Grafana: 3000
# - Alertmanager: 9093
# - Loki: 3100
# - GlitchTip: 8010
# - Uptime Kuma: 3001
